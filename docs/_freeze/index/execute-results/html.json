{
  "hash": "b781e94f082a16b571b867a0dcc94262",
  "result": {
    "markdown": "---\ntoc: true\ntoc-depth: 3\nnumber-sections: true\nnumber-depth: 2\ntitle: PyTimeTK <img src=\"logo-timetk.png\" align=\"right\" height=\"138\" />\n---\n\n\n\n\n<div class=\"container-badges\">\n  <a href=\"https://github.com/business-science/pytimetk/actions\">\n  <img alt=\"Github Actions\" src=\"https://github.com/business-science/pytimetk/actions/workflows/timetk-checks.yaml/badge.svg\"/>\n  </a>\n  <a href=\"https://pypi.python.org/pypi/pytimetk\">\n  <img alt=\"PyPI Version\" src=\"https://img.shields.io/pypi/v/pytimetk.svg\"/>\n  </a>\n  <a href=\"https://business-science.github.io/pytimetk/contributing.html\">\n  <img alt=\"PRs Welcome\" src=\"https://img.shields.io/badge/PRs-welcome-brightgreen.svg\"/>\n  </a>\n</div>\n\n\n> Time series easier, faster, more fun. Pytimetk.\n\n**PyTimetk's Mission:** To make time series analysis easier, faster, and more enjoyable in Python.\n\n[**Please ‚≠ê us on GitHub (it takes 2-seconds and means a lot).**](https://github.com/business-science/pytimetk)\n\n# Introducing pytimetk: Simplifying Time Series Analysis for Everyone\n\nTime series analysis is fundamental in many fields, from business forecasting to scientific research. While the Python ecosystem offers tools like `pandas`, they sometimes can be verbose and not optimized for all operations, especially for complex time-based aggregations and visualizations.\n\nEnter **pytimetk**. Crafted with a blend of ease-of-use and computational efficiency, `pytimetk` significantly simplifies the process of time series manipulation and visualization. By leveraging the `polars` backend, you can experience speed improvements ranging from 3X to a whopping 3500X. Let's dive into a comparative analysis.\n\n\n| Features/Properties | **pytimetk**                  | **pandas (+matplotlib)**               |\n|---------------------|-------------------------------|---------------------------------------|\n| **Speed**           | üöÄ 3X to 500X Faster          | üê¢ Standard                           |\n| **Code Simplicity** | üéâ Concise, readable syntax    | üìú Often verbose                      |\n| `plot_timeseries()` | üé® 2 lines, no customization  | üé® 16 lines, customization needed    |\n| `summarize_by_time()` | üïê 2 lines, 13.4X faster     | üïê 6 lines, 2 for-loops               |\n| `pad_by_time()`     | ‚õ≥ 2 lines, fills gaps in timeseries        | ‚ùå No equivalent    |\n| `anomalize()`       | üìà 2 lines, detects and corrects anomalies  | ‚ùå No equivalent    |\n| `augment_timeseries_signature()` | üìÖ 1 line, all calendar features    | üïê 30 lines of `dt` extractors |\n| `augment_rolling()` | üèéÔ∏è 10X to 3500X faster     | üê¢ Slow Rolling Operations |\n\nAs evident from the table, **pytimetk** is not just about speed; it also simplifies your codebase. For example, `summarize_by_time()`, converts a 6-line, double for-loop routine in `pandas` into a concise 2-line operation. And with the `polars` engine, get results 13.4X faster than `pandas`!\n  \nSimilarly, `plot_timeseries()` dramatically streamlines the plotting process, encapsulating what would typically require 16 lines of `matplotlib` code into a mere 2-line command in **pytimetk**, without sacrificing customization or quality. And with `plotly` and `plotnine` engines, you can create interactive plots and beautiful static visualizations with just a few lines of code.\n\nFor calendar features, **pytimetk** offers `augment_timeseries_signature()` which cuts down on over 30 lines of `pandas` dt extractions. For rolling features, **pytimetk** offers `augment_rolling()`, which is 10X to 3500X faster than `pandas`. It also offers `pad_by_time()` to fill gaps in your time series data, and `anomalize()` to detect and correct anomalies in your time series data.\n\nJoin the revolution in time series analysis. Reduce your code complexity, increase your productivity, and harness the speed that **pytimetk** brings to your workflows.\n\nExplore more at our [pytimetk homepage](https://business-science.github.io/pytimetk/).\n\n# üöÄ Installation\n\nInstall the Latest Stable Version:\n\n``` bash\npip install pytimetk\n```\n\nAlternatively, install the Development GitHub Version:\n\n```bash\npip install git+https://github.com/business-science/pytimetk.git\n```\n\n# üèÅ Quick Start: A Monthly Sales Analysis\n\nThis is a simple exercise to showcase the power of [`summarize_by_time()`](/reference/summarize_by_time.html):\n\n### Import Libraries & Data\n\nFirst, `import pytimetk as tk`. This gets you access to the most important functions. Use `tk.load_dataset()` to load the \"bike_sales_sample\" dataset.\n\n::: {.callout-note collapse=\"false\"}\n## About the Bike Sales Sample Dataset\n\nThis dataset contains \"orderlines\" for orders recieved. The `order_date` column contains timestamps. We can use this column to peform sales aggregations (e.g. total revenue).\n:::\n\n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\nimport pytimetk as tk\nimport pandas as pd\n\ndf = tk.load_dataset('bike_sales_sample')\ndf['order_date'] = pd.to_datetime(df['order_date'])\n\ndf   \n```\n\n::: {.cell-output .cell-output-display execution_count=1}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>order_id</th>\n      <th>order_line</th>\n      <th>order_date</th>\n      <th>quantity</th>\n      <th>price</th>\n      <th>total_price</th>\n      <th>model</th>\n      <th>category_1</th>\n      <th>category_2</th>\n      <th>frame_material</th>\n      <th>bikeshop_name</th>\n      <th>city</th>\n      <th>state</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>1</td>\n      <td>1</td>\n      <td>2011-01-07</td>\n      <td>1</td>\n      <td>6070</td>\n      <td>6070</td>\n      <td>Jekyll Carbon 2</td>\n      <td>Mountain</td>\n      <td>Over Mountain</td>\n      <td>Carbon</td>\n      <td>Ithaca Mountain Climbers</td>\n      <td>Ithaca</td>\n      <td>NY</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>1</td>\n      <td>2</td>\n      <td>2011-01-07</td>\n      <td>1</td>\n      <td>5970</td>\n      <td>5970</td>\n      <td>Trigger Carbon 2</td>\n      <td>Mountain</td>\n      <td>Over Mountain</td>\n      <td>Carbon</td>\n      <td>Ithaca Mountain Climbers</td>\n      <td>Ithaca</td>\n      <td>NY</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2</td>\n      <td>1</td>\n      <td>2011-01-10</td>\n      <td>1</td>\n      <td>2770</td>\n      <td>2770</td>\n      <td>Beast of the East 1</td>\n      <td>Mountain</td>\n      <td>Trail</td>\n      <td>Aluminum</td>\n      <td>Kansas City 29ers</td>\n      <td>Kansas City</td>\n      <td>KS</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2</td>\n      <td>2</td>\n      <td>2011-01-10</td>\n      <td>1</td>\n      <td>5970</td>\n      <td>5970</td>\n      <td>Trigger Carbon 2</td>\n      <td>Mountain</td>\n      <td>Over Mountain</td>\n      <td>Carbon</td>\n      <td>Kansas City 29ers</td>\n      <td>Kansas City</td>\n      <td>KS</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>3</td>\n      <td>1</td>\n      <td>2011-01-10</td>\n      <td>1</td>\n      <td>10660</td>\n      <td>10660</td>\n      <td>Supersix Evo Hi-Mod Team</td>\n      <td>Road</td>\n      <td>Elite Road</td>\n      <td>Carbon</td>\n      <td>Louisville Race Equipment</td>\n      <td>Louisville</td>\n      <td>KY</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>2461</th>\n      <td>321</td>\n      <td>3</td>\n      <td>2011-12-22</td>\n      <td>1</td>\n      <td>1410</td>\n      <td>1410</td>\n      <td>CAAD8 105</td>\n      <td>Road</td>\n      <td>Elite Road</td>\n      <td>Aluminum</td>\n      <td>Miami Race Equipment</td>\n      <td>Miami</td>\n      <td>FL</td>\n    </tr>\n    <tr>\n      <th>2462</th>\n      <td>322</td>\n      <td>1</td>\n      <td>2011-12-28</td>\n      <td>1</td>\n      <td>1250</td>\n      <td>1250</td>\n      <td>Synapse Disc Tiagra</td>\n      <td>Road</td>\n      <td>Endurance Road</td>\n      <td>Aluminum</td>\n      <td>Phoenix Bi-peds</td>\n      <td>Phoenix</td>\n      <td>AZ</td>\n    </tr>\n    <tr>\n      <th>2463</th>\n      <td>322</td>\n      <td>2</td>\n      <td>2011-12-28</td>\n      <td>1</td>\n      <td>2660</td>\n      <td>2660</td>\n      <td>Bad Habit 2</td>\n      <td>Mountain</td>\n      <td>Trail</td>\n      <td>Aluminum</td>\n      <td>Phoenix Bi-peds</td>\n      <td>Phoenix</td>\n      <td>AZ</td>\n    </tr>\n    <tr>\n      <th>2464</th>\n      <td>322</td>\n      <td>3</td>\n      <td>2011-12-28</td>\n      <td>1</td>\n      <td>2340</td>\n      <td>2340</td>\n      <td>F-Si 1</td>\n      <td>Mountain</td>\n      <td>Cross Country Race</td>\n      <td>Aluminum</td>\n      <td>Phoenix Bi-peds</td>\n      <td>Phoenix</td>\n      <td>AZ</td>\n    </tr>\n    <tr>\n      <th>2465</th>\n      <td>322</td>\n      <td>4</td>\n      <td>2011-12-28</td>\n      <td>1</td>\n      <td>5860</td>\n      <td>5860</td>\n      <td>Synapse Hi-Mod Dura Ace</td>\n      <td>Road</td>\n      <td>Endurance Road</td>\n      <td>Carbon</td>\n      <td>Phoenix Bi-peds</td>\n      <td>Phoenix</td>\n      <td>AZ</td>\n    </tr>\n  </tbody>\n</table>\n<p>2466 rows √ó 13 columns</p>\n</div>\n```\n:::\n:::\n\n\n### Using `summarize_by_time()` for a Sales Analysis\n\nYour company might be interested in sales patterns for various categories of bicycles. We can obtain a grouped monthly sales aggregation by `category_1` in two lines of code:\n\n1. First use pandas's `groupby()` method to group the DataFrame on `category_1`\n2. Next, use timetk's `summarize_by_time()` method to apply the sum function my month start (\"MS\") and use `wide_format = 'False'` to return the dataframe in a long format (Note long format is the default). \n\nThe result is the total revenue for Mountain and Road bikes by month. \n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\nsummary_category_1_df = df \\\n    .groupby(\"category_1\") \\\n    .summarize_by_time(\n        date_column  = 'order_date', \n        value_column = 'total_price',\n        freq         = \"MS\",\n        agg_func     = 'sum',\n        wide_format  = False,\n        engine       = \"polars\"\n    )\n\n# First 5 rows shown\nsummary_category_1_df.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>category_1</th>\n      <th>order_date</th>\n      <th>total_price_sum</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Mountain</td>\n      <td>2011-01-01</td>\n      <td>221490</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Mountain</td>\n      <td>2011-02-01</td>\n      <td>660555</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Mountain</td>\n      <td>2011-03-01</td>\n      <td>358855</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Mountain</td>\n      <td>2011-04-01</td>\n      <td>1075975</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Mountain</td>\n      <td>2011-05-01</td>\n      <td>450440</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Visualizing Sales Patterns\n\n::: {.callout-note collapse=\"false\"}\n## Now available: `plot_timeseries()`.\n\nPlot time series is a quick and easy way to visualize time series and make professional time series plots. \n:::\n\nWith the data summarized by time, we can visualize with `plot_timeseries()`. `pytimetk` functions are `groupby()` aware meaning they understand if your data is grouped to do things by group. This is useful in time series where we often deal with 100s of time series groups. \n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\nsummary_category_1_df \\\n    .groupby('category_1') \\\n    .plot_timeseries(\n        date_column  = 'order_date',\n        value_column = 'total_price_sum',\n        smooth_frac  = 0.8,\n        engine       = \"plotnine\"\n    )\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-4-output-1.png){}\n:::\n\n::: {.cell-output .cell-output-display execution_count=3}\n```\n<Figure Size: (700 x 500)>\n```\n:::\n:::\n\n\n# üìö Documentation\n\nNext step? Learn more with the [pytimetk documentation](https://business-science.github.io/pytimetk/)\n\n- [üìà Overview](https://business-science.github.io/pytimetk/)\n- [üèÅ Getting Started](https://business-science.github.io/pytimetk/getting-started/02_quick_start.html)\n- [üó∫Ô∏è Beginner Guides](https://business-science.github.io/pytimetk/guides/01_visualization.html)\n- [üìòApplied Data Science Tutorials with PyTimeTK](https://business-science.github.io/pytimetk/tutorials/01_sales_crm.html)\n- [üèéÔ∏èSpeed Comparisons](https://business-science.github.io/pytimetk/performance/01_speed_comparisons.html)\n- [üìÑ API Reference](https://business-science.github.io/pytimetk/reference/)\n\n# üçª Contributing\n\nInterested in helping us make this the best Python package for time series analysis? We'd love your help. \n\n[Follow these instructions to Contribute.](/contributing.html)\n\n# üèÜ More Coming Soon...\n\nWe are in the early stages of development. But it's obvious the potential for `pytimetk` now in Python. üêç\n\n- Please [‚≠ê us on GitHub](https://github.com/business-science/pytimetk) (it takes 2-seconds and means a lot). \n- To make requests, please see our [Project Roadmap GH Issue #2](https://github.com/business-science/pytimetk/issues/2). You can make requests there. \n- Want to contribute? [See our contributing guide here.](/contributing.html) \n\n",
    "supporting": [
      "index_files/figure-html"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}