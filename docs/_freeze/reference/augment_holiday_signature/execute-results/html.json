{
  "hash": "a263816bdc846e44244192699884897c",
  "result": {
    "markdown": "---\ntitle: augment_holiday_signature\n---\n\n\n\n```python\naugment_holiday_signature(\n    data,\n    date_column,\n    country_name='UnitedStates',\n    reduce_memory=False,\n    engine='pandas',\n)\n```\n\nEngineers 4 different holiday features from a single datetime for 137 countries \nand 2 financial markets.\n\nNote: Requires the `holidays` package to be installed. See \n      https://pypi.org/project/holidays/ for more information.\n\n## Parameters {.doc-section .doc-section-parameters}\n\n| Name          | Type                                                            | Description                                                                                                                                                                                                                                                                                                                       | Default          |\n|---------------|-----------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n| data          | Union\\[pd.DataFrame, pd.core.groupby.generic.DataFrameGroupBy\\] | The input DataFrame.                                                                                                                                                                                                                                                                                                              | _required_       |\n| date_column   | str                                                             | The name of the datetime-like column in the DataFrame.                                                                                                                                                                                                                                                                            | _required_       |\n| country_name  | str                                                             | The name of the country for which to generate holiday features. Defaults  to United States holidays, but the following countries are currently  available and accessible by the full name or ISO code: See NOTES.                                                                                                                 | `'UnitedStates'` |\n| reduce_memory | bool                                                            | The `reduce_memory` parameter is used to specify whether to reduce the memory usage of the DataFrame by converting int, float to smaller bytes and str to categorical data. This reduces memory for large data but may impact resolution of float and will change str to categorical. Default is True.                            | `False`          |\n| engine        | str                                                             | The `engine` parameter is used to specify the engine to use for  augmenting holidays. It can be either \"pandas\" or \"polars\".   - The default value is \"pandas\".  - When \"polars\", the function will internally use the `polars` library    for augmenting holidays. This can be faster than using \"pandas\" for    large datasets. | `'pandas'`       |\n\n## Returns {.doc-section .doc-section-returns}\n\n| Name   | Type          | Description                                                                                                                                                                                                                                               |\n|--------|---------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|        | pd.DataFrame: | A pandas DataFrame with three holiday-specific features: - is_holiday: (0, 1) indicator for holiday - before_holiday: (0, 1) indicator for day before holiday - after_holiday: (0, 1) indicator for day after holiday - holiday_name: name of the holiday |\n\n## Notes {.doc-section .doc-section-notes}\n\n\nAny of the following are acceptable keys for `country_name`:\n\n| Available Countries                       | Full Country                     | Code |\n|:-----------------------------------------:|:--------------------------------:|:----:|\n| Albania                                   | Albania                          | AL   |\n| Algeria                                   | Algeria                          | DZ   |\n| American Samoa                            | AmericanSamoa                    | AS   |\n| Andorra                                   | Andorra                          | AD   |\n| Angola                                    | Angola                           | AO   |\n| Argentina                                 | Argentina                        | AR   |\n| Armenia                                   | Armenia                          | AM   |\n| Aruba                                     | Aruba                            | AW   |\n| Australia                                 | Australia                        | AU   |\n| Austria                                   | Austria                          | AT   |\n| Azerbaijan                                | Azerbaijan                       | AZ   |\n| Bahrain                                   | Bahrain                          | BH   |\n| Bangladesh                                | Bangladesh                       | BD   |\n| Barbados                                  | Barbados                         | BB   |\n| Belarus                                   | Belarus                          | BY   |\n| Belgium                                   | Belgium                          | BE   |\n| Belize                                    | Belize                           | BZ   |\n| Bolivia                                   | Bolivia                          | BO   |\n| Bosnia and Herzegovina                    | BosniaandHerzegovina             | BA   |\n| Botswana                                  | Botswana                         | BW   |\n| Brazil                                    | Brazil                           | BR   |\n| Brunei                                    | Brunei                           | BN   |\n| Bulgaria                                  | Bulgaria                         | BG   |\n| Burkina Faso                              | BurkinaFaso                      | BF   |\n| Burundi                                   | Burundi                          | BI   |\n| Laos                                      | Laos                             | LA   |\n| Latvia                                    | Latvia                           | LV   |\n| Lesotho                                   | Lesotho                          | LS   |\n| Liechtenstein                             | Liechtenstein                    | LI   |\n| Lithuania                                 | Lithuania                        | LT   |\n| Luxembourg                                | Luxembourg                       | LU   |\n| Madagascar                                | Madagascar                       | MG   |\n| Malawi                                    | Malawi                           | MW   |\n| Malaysia                                  | Malaysia                         | MY   |\n| Maldives                                  | Maldives                         | MV   |\n| Malta                                     | Malta                            | MT   |\n| Marshall Islands                          | MarshallIslands                  | MH   |\n| Mexico                                    | Mexico                           | MX   |\n| Moldova                                   | Moldova                          | MD   |\n| Monaco                                    | Monaco                           | MC   |\n| Montenegro                                | Montenegro                       | ME   |\n| Morocco                                   | Morocco                          | MA   |\n| Mozambique                                | Mozambique                       | MZ   |\n| Namibia                                   | Namibia                          | NA   |\n| Netherlands                               | Netherlands                      | NL   |\n| New Zealand                               | NewZealand                       | NZ   |\n| Nicaragua                                 | Nicaragua                        | NI   |\n| Nigeria                                   | Nigeria                          | NG   |\n| Northern Mariana Islands                  | NorthernMarianaIslands           | MP   |\n| North Macedonia                           | NorthMacedonia                   | MK   |\n| Norway                                    | Norway                           | NO   |\n| Pakistan                                  | Pakistan                         | PK   |\n| Panama                                    | Panama                           | PA   |\n| Paraguay                                  | Paraguay                         | PY   |\n| Peru                                      | Peru                             | PE   |\n| Philippines                               | Philippines                      | PH   |\n| Poland                                    | Poland                           | PL   |\n| Portugal                                  | Portugal                         | PT   |\n| Puerto Rico                               | PuertoRico                       | PR   |\n| Romania                                   | Romania                          | RO   |\n| Russia                                    | Russia                           | RU   |\n| San Marino                                | SanMarino                        | SM   |\n| Saudi Arabia                              | SaudiArabia                      | SA   |\n| Serbia                                    | Serbia                           | RS   |\n| Singapore                                 | Singapore                        | SG   |\n| Slovakia                                  | Slovakia                         | SK   |\n| Slovenia                                  | Slovenia                         | SI   |\n| South Africa                              | SouthAfrica                      | ZA   |\n| South Korea                               | SouthKorea                       | KR   |\n| Spain                                     | Spain                            | ES   |\n| Sweden                                    | Sweden                           | SE   |\n| Switzerland                               | Switzerland                      | CH   |\n| Taiwan                                    | Taiwan                           | TW   |\n| Tanzania                                  | Tanzania                         | TZ   |\n| Thailand                                  | Thailand                         | TH   |\n| Tunisia                                   | Tunisia                          | TN   |\n| Turkey                                    | Turkey                           | TR   |\n| Ukraine                                   | Ukraine                          | UA   |\n| United Arab Emirates                      | UnitedArabEmirates               | AE   |\n| United Kingdom                            | UnitedKingdom                    | GB   |\n| United States Minor Outlying Islands      | UnitedStatesMinorOutlyingIslands | UM   |\n| United States of America                  | UnitedStatesofAmerica            | US   |\n| United States Virgin Islands              | UnitedStatesVirginIslands        | VI   |\n| Uruguay                                   | Uruguay                          | UY   |\n| Uzbekistan                                | Uzbekistan                       | UZ   |\n| Vanuatu                                   | Vanuatu                          | VU   |\n| Vatican City                              | VaticanCity                      | VA   |\n| Venezuela                                 | Venezuela                        | VE   |\n| Vietnam                                   | Vietnam                          | VN   |\n| Virgin Islands (U.S.)                     | VirginIslandsUS                  | VI   |\n| Zambia                                    | Zambia                           | ZM   |\n| Zimbabwe                                  | Zimbabwe                         | ZW   |\n\n\nThese are the Available Financial Markets:\n\n| Available Financial Markets  | Full Country           | Code |\n|:----------------------------:|:----------------------:|:----:|\n| European Central Bank        | EuropeanCentralBank    | ECB  |\n| New York Stock Exchange      | NewYorkStockExchange   | XNYS |\n\n## Example {.doc-section .doc-section-example}\n\n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nimport pytimetk as tk\n\n# Make a DataFrame with a date column\nstart_date = '2023-01-01'\nend_date = '2023-01-10'\ndf = pd.DataFrame(pd.date_range(start=start_date, end=end_date), columns=['date'])\n\n# Add holiday features for US\ntk.augment_holiday_signature(df, 'date', 'UnitedStates')\n```\n\n::: {.cell-output .cell-output-display execution_count=1}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>date</th>\n      <th>is_holiday</th>\n      <th>before_holiday</th>\n      <th>after_holiday</th>\n      <th>holiday_name</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2023-01-01</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>New Year's Day</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2023-01-02</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>New Year's Day (Observed)</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2023-01-03</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2023-01-04</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2023-01-05</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>2023-01-06</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>2023-01-07</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>2023-01-08</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>2023-01-09</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>2023-01-10</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\n# Add holiday features for France\ntk.augment_holiday_signature(df, 'date', 'France')\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>date</th>\n      <th>is_holiday</th>\n      <th>before_holiday</th>\n      <th>after_holiday</th>\n      <th>holiday_name</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2023-01-01</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>New Year's Day</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2023-01-02</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2023-01-03</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2023-01-04</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2023-01-05</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>2023-01-06</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>2023-01-07</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>2023-01-08</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>2023-01-09</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>2023-01-10</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\n# Add holiday features for France\ntk.augment_holiday_signature(df, 'date', 'France', engine='polars')\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>date</th>\n      <th>is_holiday</th>\n      <th>before_holiday</th>\n      <th>after_holiday</th>\n      <th>holiday_name</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2023-01-01</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>New Year's Day</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2023-01-02</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2023-01-03</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2023-01-04</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2023-01-05</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>2023-01-06</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>2023-01-07</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>2023-01-08</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>2023-01-09</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>2023-01-10</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>NaN</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n",
    "supporting": [
      "augment_holiday_signature_files/figure-html"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}