{
  "hash": "b74bff8796b3edd4ca1e2887931bd80d",
  "result": {
    "markdown": "---\ntitle: get_timeseries_signature\n---\n\n\n\n`get_timeseries_signature(idx, reduce_memory=False, engine='pandas')`\n\nConvert a timestamp to a set of 29 time series features.\n\nThe function `get_timeseries_signature` engineers **29 different date and \ntime based features** from a single datetime index `idx`: \n\n## Parameters\n\n| Name            | Type         | Description                                                                                                                                                                                                                                                                                                                                     | Default    |\n|-----------------|--------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------|\n| `idx`           | pd.DataFrame | The `idx` parameter is a pandas Series of DatetimeIndex.                                                                                                                                                                                                                                                                                        | _required_ |\n| `reduce_memory` | bool         | The `reduce_memory` parameter is used to specify whether to reduce the memory usage of the DataFrame by converting int, float to smaller bytes and str to categorical data. This reduces memory for large data but may impact resolution of float and will change str to categorical. Default is False.                                         | `False`    |\n| `engine`        | str          | The `engine` parameter is used to specify the engine to use for  augmenting datetime features. It can be either \"pandas\" or \"polars\".   - The default value is \"pandas\".  - When \"polars\", the function will internally use the `polars` library    for feature generation. This is generally faster than using \"pandas\"    for large datasets. | `'pandas'` |\n\n## Returns\n\n| Type                                                                                              | Description                                               |\n|---------------------------------------------------------------------------------------------------|-----------------------------------------------------------|\n| pd.DataFrame                                                                                      | A Pandas DataFrame with 29 datetime features added to it. |\n| - _index_num: An int64 feature that captures the entire datetime as a numeric value to the second |                                                           |\n| - _year: The year of the datetime                                                                 |                                                           |\n| - _year_iso: The iso year of the datetime                                                         |                                                           |\n| - _yearstart: Logical (0,1) indicating if first day of year (defined by frequency)                |                                                           |\n| - _yearend: Logical (0,1) indicating if last day of year (defined by frequency)                   |                                                           |\n| - _leapyear: Logical (0,1) indicating if the date belongs to a leap year                          |                                                           |\n| - _half: Half year of the date: Jan-Jun = 1, July-Dec = 2                                         |                                                           |\n| - _quarter: Quarter of the date: Jan-Mar = 1, Apr-Jun = 2, Jul-Sep = 3, Oct-Dec = 4               |                                                           |\n| - _quarteryear: Quarter of the date + relative year                                               |                                                           |\n| - _quarterstart: Logical (0,1) indicating if first day of quarter (defined by frequency)          |                                                           |\n| - _quarterend: Logical (0,1) indicating if last day of quarter (defined by frequency)             |                                                           |\n| - _month: The month of the datetime                                                               |                                                           |\n| - _month_lbl: The month label of the datetime                                                     |                                                           |\n| - _monthstart: Logical (0,1) indicating if first day of month (defined by frequency)              |                                                           |\n| - _monthend: Logical (0,1) indicating if last day of month (defined by frequency)                 |                                                           |\n| - _yweek: The week ordinal of the year                                                            |                                                           |\n| - _mweek: The week ordinal of the month                                                           |                                                           |\n| - _wday: The number of the day of the week with Monday=1, Sunday=6                                |                                                           |\n| - _wday_lbl: The day of the week label                                                            |                                                           |\n| - _mday: The day of the datetime                                                                  |                                                           |\n| - _qday: The days of the relative quarter                                                         |                                                           |\n| - _yday: The ordinal day of year                                                                  |                                                           |\n| - _weekend: Logical (0,1) indicating if the day is a weekend                                      |                                                           |\n| - _hour: The hour of the datetime                                                                 |                                                           |\n| - _minute: The minutes of the datetime                                                            |                                                           |\n| - _second: The seconds of the datetime                                                            |                                                           |\n| - _msecond: The microseconds of the datetime                                                      |                                                           |\n| - _nsecond: The nanoseconds of the datetime                                                       |                                                           |\n| - _am_pm: Half of the day, AM = ante meridiem, PM = post meridiem                                 |                                                           |\n\n## Examples\n\n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nimport pytimetk as tk\n\ndates = pd.date_range(start = '2019-01', end = '2019-03', freq = 'D')\n```\n:::\n\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\n# Makes 29 new time series features from the dates\ntk.get_timeseries_signature(dates, engine='pandas').glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<class 'pandas.core.frame.DataFrame'>: 60 rows of 30 columns\nidx:               datetime64[ns]    [Timestamp('2019-01-01 00:00:00'),  ...\nidx_index_num:     int64             [1546300800, 1546387200, 1546473600 ...\nidx_year:          int64             [2019, 2019, 2019, 2019, 2019, 2019 ...\nidx_year_iso:      UInt32            [2019, 2019, 2019, 2019, 2019, 2019 ...\nidx_yearstart:     uint8             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_yearend:       uint8             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_leapyear:      uint8             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_half:          int64             [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ...\nidx_quarter:       int64             [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ...\nidx_quarteryear:   object            ['2019Q1', '2019Q1', '2019Q1', '201 ...\nidx_quarterstart:  uint8             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_quarterend:    uint8             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_month:         int64             [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ...\nidx_month_lbl:     object            ['January', 'January', 'January', ' ...\nidx_monthstart:    uint8             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_monthend:      uint8             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_yweek:         UInt32            [1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2 ...\nidx_mweek:         int64             [1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2 ...\nidx_wday:          int64             [2, 3, 4, 5, 6, 7, 1, 2, 3, 4, 5, 6 ...\nidx_wday_lbl:      object            ['Tuesday', 'Wednesday', 'Thursday' ...\nidx_mday:          int64             [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, ...\nidx_qday:          int64             [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, ...\nidx_yday:          int64             [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, ...\nidx_weekend:       int64             [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0 ...\nidx_hour:          int64             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_minute:        int64             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_second:        int64             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_msecond:       int64             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_nsecond:       int64             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_am_pm:         object            ['am', 'am', 'am', 'am', 'am', 'am' ...\n```\n:::\n:::\n\n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\ntk.get_timeseries_signature(dates, engine='polars').glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<class 'pandas.core.frame.DataFrame'>: 60 rows of 30 columns\nidx:               datetime64[ns]    [Timestamp('2019-01-01 00:00:00'),  ...\nidx_index_num:     float64           [1546300800.0, 1546387200.0, 154647 ...\nidx_year:          int32             [2019, 2019, 2019, 2019, 2019, 2019 ...\nidx_year_iso:      int32             [2019, 2019, 2019, 2019, 2019, 2019 ...\nidx_yearstart:     int32             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_yearend:       int32             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_leapyear:      int8              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_half:          int32             [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ...\nidx_quarter:       uint32            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ...\nidx_quarteryear:   object            ['2019Q1', '2019Q1', '2019Q1', '201 ...\nidx_quarterstart:  int32             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_quarterend:    int32             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_month:         uint32            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ...\nidx_month_lbl:     object            ['January', 'January', 'January', ' ...\nidx_monthstart:    int32             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_monthend:      int32             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_yweek:         uint32            [1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2 ...\nidx_mweek:         uint32            [1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2 ...\nidx_wday:          uint32            [2, 3, 4, 5, 6, 7, 1, 2, 3, 4, 5, 6 ...\nidx_wday_lbl:      object            ['Tuesday', 'Wednesday', 'Thursday' ...\nidx_mday:          uint32            [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, ...\nidx_qday:          int64             [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, ...\nidx_yday:          uint32            [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, ...\nidx_weekend:       int32             [0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1 ...\nidx_hour:          uint32            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_minute:        uint32            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_second:        uint32            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_msecond:       uint32            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_nsecond:       uint32            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ...\nidx_am_pm:         object            ['am', 'am', 'am', 'am', 'am', 'am' ...\n```\n:::\n:::\n\n\n::: {.cell execution_count=4}\n``` {.python .cell-code}\npd.Series(dates, name = \"date\").get_timeseries_signature(engine='pandas').glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<class 'pandas.core.frame.DataFrame'>: 60 rows of 30 columns\ndate:               datetime64[ns]    [Timestamp('2019-01-01 00:00:00'), ...\ndate_index_num:     int64             [1546300800, 1546387200, 154647360 ...\ndate_year:          int64             [2019, 2019, 2019, 2019, 2019, 201 ...\ndate_year_iso:      UInt32            [2019, 2019, 2019, 2019, 2019, 201 ...\ndate_yearstart:     uint8             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_yearend:       uint8             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_leapyear:      uint8             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_half:          int64             [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,  ...\ndate_quarter:       int64             [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,  ...\ndate_quarteryear:   object            ['2019Q1', '2019Q1', '2019Q1', '20 ...\ndate_quarterstart:  uint8             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_quarterend:    uint8             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_month:         int64             [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,  ...\ndate_month_lbl:     object            ['January', 'January', 'January',  ...\ndate_monthstart:    uint8             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_monthend:      uint8             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_yweek:         UInt32            [1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2,  ...\ndate_mweek:         int64             [1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2,  ...\ndate_wday:          int64             [2, 3, 4, 5, 6, 7, 1, 2, 3, 4, 5,  ...\ndate_wday_lbl:      object            ['Tuesday', 'Wednesday', 'Thursday ...\ndate_mday:          int64             [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 ...\ndate_qday:          int64             [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 ...\ndate_yday:          int64             [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 ...\ndate_weekend:       int64             [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,  ...\ndate_hour:          int64             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_minute:        int64             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_second:        int64             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_msecond:       int64             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_nsecond:       int64             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_am_pm:         object            ['am', 'am', 'am', 'am', 'am', 'am ...\n```\n:::\n:::\n\n\n::: {.cell execution_count=5}\n``` {.python .cell-code}\npd.Series(dates, name = \"date\").get_timeseries_signature(engine='polars').glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<class 'pandas.core.frame.DataFrame'>: 60 rows of 30 columns\ndate:               datetime64[ns]    [Timestamp('2019-01-01 00:00:00'), ...\ndate_index_num:     float64           [1546300800.0, 1546387200.0, 15464 ...\ndate_year:          int32             [2019, 2019, 2019, 2019, 2019, 201 ...\ndate_year_iso:      int32             [2019, 2019, 2019, 2019, 2019, 201 ...\ndate_yearstart:     int32             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_yearend:       int32             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_leapyear:      int8              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_half:          int32             [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,  ...\ndate_quarter:       uint32            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,  ...\ndate_quarteryear:   object            ['2019Q1', '2019Q1', '2019Q1', '20 ...\ndate_quarterstart:  int32             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_quarterend:    int32             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_month:         uint32            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,  ...\ndate_month_lbl:     object            ['January', 'January', 'January',  ...\ndate_monthstart:    int32             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_monthend:      int32             [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_yweek:         uint32            [1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2,  ...\ndate_mweek:         uint32            [1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2,  ...\ndate_wday:          uint32            [2, 3, 4, 5, 6, 7, 1, 2, 3, 4, 5,  ...\ndate_wday_lbl:      object            ['Tuesday', 'Wednesday', 'Thursday ...\ndate_mday:          uint32            [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 ...\ndate_qday:          int64             [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 ...\ndate_yday:          uint32            [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 ...\ndate_weekend:       int32             [0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0,  ...\ndate_hour:          uint32            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_minute:        uint32            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_second:        uint32            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_msecond:       uint32            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_nsecond:       uint32            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  ...\ndate_am_pm:         object            ['am', 'am', 'am', 'am', 'am', 'am ...\n```\n:::\n:::\n\n\n",
    "supporting": [
      "get_timeseries_signature_files/figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}